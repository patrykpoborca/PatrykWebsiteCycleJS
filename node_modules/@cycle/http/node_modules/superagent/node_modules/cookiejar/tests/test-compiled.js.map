{"version":3,"sources":["test.js"],"names":[],"mappings":"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","file":"test-compiled.js","sourcesContent":["#!/usr/bin/env node\nvar Cookie=require(\"../cookiejar\"),\n    CookieAccessInfo = Cookie.CookieAccessInfo,\n    CookieJar = Cookie.CookieJar,\n    Cookie = Cookie.Cookie;\n\nvar assert = require('assert');\n\n// Test Cookie\nvar cookie = new Cookie(\"a=1;domain=.test.com;path=/\");\nassert.equal(cookie.name, \"a\");\nassert.equal(cookie.value, \"1\");\nassert.equal(cookie.domain, \".test.com\");\nassert.equal(cookie.path, \"/\");\nassert.equal(cookie.secure, false);\nassert.equal(cookie.expiration_date, Infinity);\n\nassert.deepEqual(cookie, new Cookie(\"a=1;domain=.test.com;path=/\"));\nassert.ok(cookie.collidesWith(new Cookie(\"a=1;domain=.test.com;path=/\")));\n\nvar cookie = new Cookie(\"a=1;path=/\", \".test.com\");\nassert.equal(cookie.domain, \".test.com\");\n\n\n// Test CookieJar\nvar test_jar = CookieJar();\ntest_jar.setCookies(\n \"a=1;domain=.test.com;path=/\"\n +\":b=2;domain=test.com;path=/\"\n +\":c=3;domain=test.com;path=/;expires=January 1, 1970\");\nvar cookies=test_jar.getCookies(CookieAccessInfo(\"test.com\",\"/\"))\nassert.equal(cookies.length, 2, \"Expires on setCookies fail\\n\" + cookies.toString());\nassert.equal(cookies.toValueString(), 'a=1;b=2', \"Cannot get value string of multiple cookies\");\n\ncookies=test_jar.getCookies(CookieAccessInfo(\"www.test.com\",\"/\"))\nassert.equal(cookies.length, 2, \"Wildcard domain fail\\n\" + cookies.toString());\n\ntest_jar.setCookies(\"b=2;domain=test.com;path=/;expires=January 1, 1970\");\ncookies=test_jar.getCookies(CookieAccessInfo(\"test.com\",\"/\"))\nassert.equal(cookies.length, 1, \"Delete cookie fail\\n\" + cookies.toString());\nassert.equal(String(test_jar.getCookies(CookieAccessInfo(\"test.com\",\"/\"))), \"a=1; domain=.test.com; path=/\");\n\ncookie=Cookie(\"a=1;domain=test.com;path=/;HttpOnly\");\nassert.ok(cookie.noscript, \"HttpOnly flag parsing failed\\n\" + cookie.toString());\n\nvar test_jar = CookieJar();\ntest_jar.setCookies([\n\t\"a=1;domain=.test.com;path=/\"\n\t, \"a=1;domain=.test.com;path=/\"\n\t, \"a=2;domain=.test.com;path=/\"\n\t, \"b=3;domain=.test.com;path=/\"]);\nvar cookies=test_jar.getCookies(CookieAccessInfo(\"test.com\",\"/\"))\nassert.equal(cookies.length, 2);\nassert.equal(cookies[0].value, 2);\n\n// Test Ignore Trailing Semicolons (Github Issue #6)\nvar cookie = new Cookie(\"a=1;domain=.test.com;path=/;;;;\");\nassert.equal(cookie.name, \"a\");\nassert.equal(cookie.value, \"1\");\nassert.equal(cookie.domain, \".test.com\");\nassert.equal(cookie.path, \"/\");\nassert.deepEqual(cookie, new Cookie(\"a=1;domain=.test.com;path=/\"));\n\n// Test request_path and request_domain\ntest_jar.setCookie(new Cookie(\"sub=4;path=/\", \"test.com\"));\nvar cookie = test_jar.getCookie(\"sub\", CookieAccessInfo(\"sub.test.com\", \"/\"));\nassert.equal(cookie, undefined);\n\nvar cookie = test_jar.getCookie(\"sub\", CookieAccessInfo(\"test.com\", \"/\"));\nassert.equal(cookie.name, \"sub\");\nassert.equal(cookie.domain, \"test.com\");\n\ntest_jar.setCookie(new Cookie(\"sub=4;\", \"test.com\", \"/accounts\"));\nvar cookie = test_jar.getCookie(\"sub\", CookieAccessInfo(\"test.com\", \"/\"));\nassert.equal(cookie, undefined);\n\nvar cookie = test_jar.getCookie(\"sub\", CookieAccessInfo(\"test.com\", \"/accounts\"));\nassert.equal(cookie.path, \"/accounts\");\n\ntest_jar.setCookie(new Cookie(\"sub=5;path=/\", \"test.com\", \"/accounts\"));\nvar cookies = test_jar.getCookies(CookieAccessInfo(\"test.com\"));\nassert.equal(cookies.length, 3);\n"]}