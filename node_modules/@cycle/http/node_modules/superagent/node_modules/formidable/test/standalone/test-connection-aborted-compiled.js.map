{"version":3,"sources":["test-connection-aborted.js"],"names":[],"mappings":";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC/B,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AACzB,IAAI,UAAU,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAE5C,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE;AACjD,MAAI,IAAI,GAAG,IAAI,UAAU,CAAC,YAAY,EAAE,CAAC;AACzC,MAAI,gBAAgB,GAAG,KAAK,CAAC;AAC7B,MAAI,CAAC,EAAE,CAAC,SAAS,EAAE,YAAY;AAC7B,oBAAgB,GAAG,IAAI,CAAC;GACzB,CAAC,CAAC;AACH,MAAI,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;AAC3B,UAAM,CAAC,gBAAgB,EAAE,mCAAmC,CAAC,CAAC;AAC9D,UAAM,CAAC,KAAK,EAAE,CAAC;GAChB,CAAC,CAAC;AACH,MAAI,CAAC,EAAE,CAAC,KAAK,EAAE,YAAY;AACzB,UAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;GAC3C,CAAC,CAAC;AACH,MAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;CACjB,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,EAAE,YAAY;AACpC,MAAI,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC;AAChD,QAAM,CAAC,KAAK,CACV,qBAAqB,GACrB,wBAAwB,GACxB,yDAAyD,CAAC,CAAC;AAC7D,QAAM,CAAC,GAAG,EAAE,CAAC;CACd,CAAC,CAAC","file":"test-connection-aborted-compiled.js","sourcesContent":["var assert = require('assert');\nvar http = require('http');\nvar net = require('net');\nvar formidable = require('../../lib/index');\n\nvar server = http.createServer(function (req, res) {\n  var form = new formidable.IncomingForm();\n  var aborted_received = false;\n  form.on('aborted', function () {\n    aborted_received = true;\n  });\n  form.on('error', function () {\n    assert(aborted_received, 'Error event should follow aborted');\n    server.close();\n  });\n  form.on('end', function () {\n    throw new Error('Unexpected \"end\" event');\n  });\n  form.parse(req);\n}).listen(0, 'localhost', function () {\n  var client = net.connect(server.address().port);\n  client.write(\n    \"POST / HTTP/1.1\\r\\n\" +\n    \"Content-Length: 70\\r\\n\" +\n    \"Content-Type: multipart/form-data; boundary=foo\\r\\n\\r\\n\");\n  client.end();\n});\n"]}